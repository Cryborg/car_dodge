<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="game.title">Course Infinie</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="mainContainer">
    <div id="sidePanel">
        <!-- Sélecteur de langue -->
        <div class="language-selector">
            <label for="languageSelect" class="sr-only">Language</label>
            <select id="languageSelect" onchange="changeLanguage(this.value)">
                <option value="fr">🇫🇷 Français</option>
                <option value="en">🇺🇸 English</option>
            </select>
        </div>
        
        <div class="stat-item">
            <div class="stat-label" data-i18n="game.progress">Progression</div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-text" id="progressText">30s</div>
            </div>
        </div>
        <div class="stat-item">
            <div class="stat-label" data-i18n="game.score">Score</div>
            <div class="stat-value" id="scoreDisplay">0</div>
        </div>
        <div class="stat-item">
            <div class="stat-label" data-i18n="game.lives">Vies</div>
            <div class="stat-value" id="livesDisplay">5</div>
        </div>
        <div class="stat-item">
            <div class="stat-label" data-i18n="game.level">Niveau</div>
            <div class="stat-value"><span id="levelDisplay">1</span>/25</div>
        </div>
    </div>

    <div id="gameContainer">
        <canvas id="gameCanvas" width="400" height="600"></canvas>

    <div id="startScreen">
        <h1 data-i18n="game.title">🏁 Course Infinie</h1>
        <div id="instructions">
            <div class="controls-grid">
                <div class="keys-group">
                    <span class="key small">←</span>
                    <span class="key small">→</span>
                </div>
                <div class="action-column" data-i18n="controls.move">Se déplacer</div>
                <div class="keys-group">
                    <span class="key small">P</span>
                </div>
                <div class="action-column" data-i18n="controls.pause">Pause</div>
                <div class="keys-group">
                    <span class="key small">Échap</span>
                    <span class="key small">Échap</span>
                </div>
                <div class="action-column" data-i18n="controls.quit">Quitter</div>
            </div>
        </div>
        <h2 data-i18n="game.chooseLevel">Choisis ton niveau de départ :</h2>
        <div class="level-selector">
            <label for="levelSlider"><span data-i18n="game.level">Niveau</span> : <span id="levelValue">1</span></label>
            <input type="range" id="levelSlider" min="1" max="25" value="1" class="slider">
            <div class="level-descriptions">
                <span class="level-mark" data-i18n="difficulty.easy">Enfantin</span>
                <span class="level-mark" data-i18n="difficulty.hell">Démoniaque</span>
            </div>
        </div>
        <button class="start-btn" onclick="startGameFromSlider()" data-i18n="game.startGame">Commencer la partie</button>
    </div>

    <div id="gameOverScreen" style="display: none;">
        <h1 data-i18n="game.gameOver">🏁 Partie Terminée !</h1>
        <h2 id="finalScore"><span data-i18n="game.finalScore">Score Final</span>: 0</h2>
        <div id="scoreForm">
            <label for="playerName" data-i18n="game.enterName">Votre nom :</label>
            <input type="text" id="playerName" data-i18n-placeholder="game.enterName" maxlength="20" onkeydown="handleNameInput(event)">
            <button onclick="saveScore()" data-i18n="game.saveScore">Sauvegarder le Score</button>
        </div>
        <button onclick="resetScores()" style="background: #e74c3c; margin-top: 10px;" data-i18n="game.resetScores">🗑️ Réinitialiser les Scores</button>
        <button onclick="showStartScreen()" data-i18n="game.backToMenu">Rejouer</button>
    </div>
</div>

    <div id="leaderboardPanel">
        <h3 data-i18n="game.bestScores">🏆 Classement</h3>
        <div id="liveScoresList">
            <div style="text-align: center; color: #bdc3c7;" data-i18n="game.loading">Chargement...</div>
        </div>
    </div>
</div>

<script src="localization.js"></script>
<script src="game.js"></script>
</body>
</html>